# LLM 프롬프트 관리 서비스 프로젝트 계획서

## 1. 프로젝트 개요

### 1.1. 프로젝트 목표
LLM 프롬프트를 체계적으로 관리하고 검색할 수 있는 웹 기반 관리 서비스를 구축합니다. 로그인 사용자는 모든 프롬프트를 관리(생성/수정/삭제/조회)할 수 있으며, 비로그인 사용자는 TOP10 프롬프트만 검색할 수 있습니다.

### 1.2. 프로젝트 범위
- **핵심 기능**: 프롬프트 CRUD 관리, 제한된 검색 기능
- **사용자 역할**: 로그인 사용자(관리자), 비로그인 사용자(게스트)
- **데이터베이스**: SQLite 기반 로컬 데이터베이스
- **인증**: 로컬 인증 시스템 (향후 확장 가능)

### 1.3. 주요 차별점
기존 프롬프트 스토어(구매/판매) 서비스와 달리, 이 프로젝트는 **관리 중심**의 서비스입니다:
- 구매/결제 기능 없음
- 장바구니 기능 없음
- 프롬프트 관리(CRUD)에 집중
- 비로그인 사용자는 제한된 검색만 가능

---

## 2. 사용자 역할 및 기능 명세

### 2.1. 로그인 사용자 (관리자)
**권한**: 모든 프롬프트 관리 가능

**주요 기능**:
1. **프롬프트 관리**
   - 프롬프트 생성 (제목, 설명, 프롬프트 본문, 이미지, 태그 등)
   - 프롬프트 수정
   - 프롬프트 삭제
   - 프롬프트 목록 조회 (전체)
   - 프롬프트 검색 (전체 데이터 기준)
   - 프롬프트 상세 조회

2. **대시보드**
   - 전체 프롬프트 통계
   - 최근 생성된 프롬프트
   - 인기 프롬프트 (조회수 기준)

3. **프로필 관리**
   - 닉네임 수정
   - 프로필 이미지 업로드

### 2.2. 비로그인 사용자 (게스트)
**권한**: TOP10 프롬프트만 검색 가능

**주요 기능**:
1. **TOP10 프롬프트 조회**
   - 메인 페이지에서 TOP10 프롬프트 목록 표시
   - TOP10 기준: 조회수 상위 10개 (기본값, 변경 가능)

2. **제한된 검색**
   - TOP10 프롬프트 내에서만 검색 가능
   - 검색 범위: 제목, 설명, 태그

3. **프롬프트 상세 보기**
   - TOP10 프롬프트의 제한된 정보만 조회 가능
   - 프롬프트 본문(`prompt_text`)은 비공개

---

## 3. 기술 스택

### 3.1. 프론트엔드
- **프레임워크**: Next.js 16.0.0 (App Router)
- **언어**: TypeScript 5.x
- **UI 라이브러리**: 
  - Radix UI (기본 컴포넌트)
  - Tailwind CSS 4.x (스타일링)
  - shadcn/ui (컴포넌트 시스템)
- **상태 관리**: React Context API
- **폼 관리**: React Hook Form + Zod

### 3.2. 백엔드
- **데이터베이스**: SQLite (로컬 파일 기반)
- **ORM/쿼리**: 직접 SQL 쿼리 또는 경량 라이브러리
- **인증**: 로컬 인증 (localStorage 기반, 향후 확장 가능)

### 3.3. 개발 도구
- **패키지 관리**: pnpm
- **코드 품질**: TypeScript strict mode
- **버전 관리**: Git

---

## 4. 아키텍처 개요

### 4.1. 프로젝트 구조
```
prompt-management/
├── app/                    # Next.js App Router
│   ├── (auth)/            # 인증 관련 페이지
│   ├── admin/             # 관리자 전용 페이지
│   │   └── prompts/       # 프롬프트 관리
│   └── prompts/           # 공개 프롬프트 페이지
├── components/            # 재사용 가능한 컴포넌트
│   └── ui/                # 기본 UI 컴포넌트
├── contexts/              # React Context
│   └── auth-context.tsx   # 인증 상태 관리
├── lib/                   # 유틸리티 및 타입
│   ├── types.ts           # TypeScript 타입 정의
│   └── utils.ts           # 공통 유틸리티
├── hooks/                 # 커스텀 훅
└── docs/                  # 프로젝트 문서
```

### 4.2. 데이터 흐름
1. **인증 흐름**
   - 로그인 → AuthContext 업데이트 → localStorage 저장
   - 페이지 접근 시 localStorage에서 인증 상태 복원

2. **프롬프트 관리 흐름**
   - 로그인 사용자: API 호출 → SQLite 쿼리 → 데이터 반환
   - 비로그인 사용자: TOP10만 조회 가능 → 제한된 데이터 반환

3. **검색 흐름**
   - 로그인 사용자: 전체 데이터 검색
   - 비로그인 사용자: TOP10 내에서만 검색

---

## 5. 개발 단계 및 일정

### Phase 1: 기반 구조 구축 (1주)
- [x] 프로젝트 초기 설정 (Next.js, TypeScript, Tailwind)
- [x] 기본 UI 컴포넌트 구성
- [x] 데이터베이스 스키마 설계 및 생성
- [ ] 인증 시스템 기본 구조

### Phase 2: 인증 및 권한 관리 (3일)
- [ ] 로그인/로그아웃 기능 구현
- [ ] 인증 상태 관리 (Context API)
- [ ] 라우트 보호 (Protected Routes)
- [ ] 사용자 역할별 접근 제어

### Phase 3: 프롬프트 관리 기능 (1주)
- [ ] 프롬프트 CRUD API 구현
- [ ] 프롬프트 관리 페이지 (`/admin/prompts`)
- [ ] 프롬프트 생성/수정 폼
- [ ] 프롬프트 목록 및 검색 (관리자용)

### Phase 4: 비로그인 사용자 기능 (3일)
- [ ] TOP10 프롬프트 조회 로직
- [ ] 메인 페이지 TOP10 표시
- [ ] 제한된 검색 기능
- [ ] 프롬프트 상세 보기 (제한된 정보)

### Phase 5: UI/UX 개선 및 테스트 (3일)
- [ ] 반응형 디자인 최적화
- [ ] 로딩 상태 및 에러 처리
- [ ] 사용자 피드백 (Toast 알림)
- [ ] 기본 테스트 및 버그 수정

---

## 6. 데이터베이스 설계

### 6.1. 주요 테이블
- `profiles`: 사용자 프로필 정보
- `prompts`: 프롬프트 정보 (핵심 테이블)
- `mcp_servers`: MCP 서버 정보 (향후 확장용)

### 6.2. 핵심 필드
**prompts 테이블**:
- `id`: UUID (Primary Key)
- `title`: 제목
- `description`: 설명
- `prompt_text`: 프롬프트 본문 (구매 후 노출, 관리자만 조회)
- `image_urls`: 이미지 URL 배열 (JSON)
- `tags`: 태그 배열 (JSON)
- `view_count`: 조회수 (TOP10 기준)
- `is_published`: 공개 여부

---

## 7. 주요 기능 상세

### 7.1. 프롬프트 관리 (관리자)
- **생성**: 제목, 설명, 본문, 이미지, 태그 입력
- **수정**: 기존 프롬프트 정보 업데이트
- **삭제**: 프롬프트 삭제 (확인 다이얼로그)
- **목록**: 페이지네이션, 정렬, 필터링
- **검색**: 제목/설명/태그 기반 전체 검색

### 7.2. TOP10 프롬프트 (게스트)
- **기준**: 조회수(`view_count`) 상위 10개
- **표시**: 메인 페이지 그리드 형태
- **검색**: TOP10 내에서만 검색 가능
- **상세**: 제한된 정보만 표시 (본문 제외)

---

## 8. 제약사항 및 고려사항

### 8.1. 제약사항
- 비로그인 사용자는 TOP10만 접근 가능
- 프롬프트 본문(`prompt_text`)은 관리자만 조회 가능
- 구매/결제 기능 없음 (관리 서비스)

### 8.2. 향후 확장 가능성
- 다중 관리자 지원
- 프롬프트 카테고리 관리
- 통계 및 분석 대시보드
- API 연동 (외부 서비스)
- 인증 시스템 고도화 (Supabase 등)

---

## 9. 성공 기준

### 9.1. 기능적 요구사항
- [ ] 로그인 사용자가 모든 프롬프트를 관리할 수 있음
- [ ] 비로그인 사용자가 TOP10 프롬프트만 검색할 수 있음
- [ ] 프롬프트 CRUD 기능이 정상 작동
- [ ] 검색 기능이 역할별로 올바르게 제한됨

### 9.2. 비기능적 요구사항
- [ ] 반응형 디자인 (모바일/태블릿/데스크톱)
- [ ] 빠른 페이지 로딩 속도
- [ ] 직관적인 UI/UX
- [ ] 에러 처리 및 사용자 피드백

---

## 10. 리스크 및 대응 방안

### 10.1. 기술적 리스크
- **SQLite 성능**: 대량 데이터 처리 시 성능 저하 가능
  - 대응: 인덱스 최적화, 페이지네이션 적용
- **인증 보안**: localStorage 기반 인증의 보안 취약점
  - 대응: 향후 JWT 또는 세션 기반 인증으로 전환

### 10.2. 기능적 리스크
- **TOP10 기준 변경**: 조회수 외 다른 기준 필요 시
  - 대응: 설정 가능한 정렬 기준 구현
- **검색 성능**: 전체 검색 시 성능 이슈
  - 대응: 검색어 인덱싱, 결과 캐싱

---

## 11. 참고 문서
- [화면설계서](./03.화면설계서.md)
- [개발설계서](./06.개발설계서.md)
- [PRD (참고용)](./02.PRD_CURSOR.md)
