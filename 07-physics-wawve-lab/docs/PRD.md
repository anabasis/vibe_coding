# Physics Wave Lab - PRD (Product Requirements Document)

## 1. 개요 (Overview)

**제품명**: Physics Wave Lab  
**목적**: 3D 환경에서 물리학 파동 현상을 시뮬레이션하고 시각화하여 학습자가 파동 이론을 직관적으로 이해할 수 있도록 하는 교육/흥미용 웹 애플리케이션  
**대상 사용자**: 물리학 학습자, 교육자, 과학 애호가  
**성격**: 인터랙티브 물리 시뮬레이션 웹 플랫폼

## 2. 핵심 기능 (Core Features)

### 2.1 3D 파동 시뮬레이션
- 실시간 3D 파동 메시 렌더링
- 파동 방정식 기반 정확한 물리 계산 (z = A·sin(kx - ωt + φ))
- 플랫폼별 성능 최적화 (모바일/데스크톱 해상도 조절)
- 60FPS 목표 성능

### 2.2 파라미터 조절 시스템
- **기본 파동 파라미터**: 진폭(A), 주파수(f), 위상(φ), 감쇠(damping), 속도(speed)
- **고급 모드**: 파동 간섭(Interference), 노이즈/난류(Turbulence)
- **프리셋 시스템**: 고주파, 간섭 강조, 저주파 감쇠 등 사전 정의 설정
- 실시간 파라미터 조절 및 즉시 반영

### 2.3 시각적 정보 표시
- 실시간 수식 디스플레이 (LaTeX 형식)
- 현재 파라미터 값 표시
- 파동 에너지 계산 표시 (E ∝ A²)
- 성능 모니터링 (FPS, 시간)
- 활성 모드 상태 표시

### 2.4 3D 환경 제어
- 궤도 컨트롤 (회전, 줌, 팬)
- 격자 표시로 공간감 제공
- 다중 광원 설정 (환경광, 방향광, 점광)
- 카메라 각도 제한 및 거리 제한

## 3. UI/UX 요구사항 (UI/UX Requirements)

### 3.1 페이지 구조
- **랜딩 페이지**: 제품 소개, 기능 설명, 진입 버튼
- **실험실 페이지**: 메인 3D 뷰어 + 컨트롤 패널 + HUD

### 3.2 레이아웃
- **풀스크린 3D 캔버스**: 메인 시각적 요소
- **우측 HUD**: 수식, 파라미터, 성능 정보 표시
- **Leva 컨트롤 패널**: 좌측 또는 오버레이 형태의 파라미터 조절 인터페이스

### 3.3 디자인 톤
- **다크 테마**: 과학/기술적 느낌
- **그라데이션 컬러**: 블루-퍼플 계열 강조색
- **모노스페이스 폰트**: 수식 및 수치 표시
- **글래스모피즘**: 반투명 UI 요소

### 3.4 인터랙션
- 마우스/터치 기반 3D 뷰 조작
- 슬라이더 기반 실시간 파라미터 조절
- 프리셋 선택을 통한 빠른 설정 변경
- 반응형 터치/마우스 지원

## 4. 사용자 플로우 (User Flow)

```
랜딩 페이지 진입 
    ↓
제품 설명 및 기능 미리보기 확인
    ↓
"실험실로 가기" 버튼 클릭
    ↓
실험실 페이지 로드 (3D 시뮬레이션 시작)
    ↓
기본 파동 관찰
    ↓
컨트롤 패널에서 파라미터 조절
    ↓
실시간 파동 변화 확인
    ↓
HUD에서 수식 및 수치 확인
    ↓
프리셋 선택으로 다양한 파동 체험
    ↓
고급 모드 (간섭, 난류) 실험
```

## 5. 기술 요구사항 (Technical Requirements)

### 5.1 프론트엔드 아키텍처
- **프레임워크**: Next.js 15.x (App Router)
- **3D 렌더링**: Three.js + React Three Fiber
- **상태 관리**: Zustand
- **UI 컴포넌트**: Leva (컨트롤 패널)
- **스타일링**: TailwindCSS

### 5.2 라우팅 구조
```
/ (랜딩 페이지)
├── /lab/wave (메인 실험실)
└── 향후 확장 가능한 구조 (/lab/pendulum, /lab/optics 등)
```

### 5.3 상태 관리 아키텍처
- **전역 상태**: WaveStore (Zustand)
  - 파동 파라미터 (WaveParams)
  - 시간 상태 (time)
  - 성능 상태 (fps)
  - 액션 메서드들

### 5.4 3D 렌더링 최적화
- 디바이스 기반 해상도 조절 (모바일: 32x32, 데스크톱: 64x64)
- DPR 적응형 설정
- 그림자 비활성화
- 성능 모니터링 및 동적 조절

### 5.5 수학적 정확성
- 파동 방정식 정확한 구현
- 물리적으로 의미있는 파라미터 범위 설정
- 감쇠 모델 적용
- 간섭 및 중첩 원리 구현

### 5.6 성능 요구사항
- 60FPS 유지 목표
- 모바일 디바이스 지원
- 부드러운 애니메이션 및 상호작용
- 메모리 효율적 렌더링

### 5.7 확장성 고려사항
- 새로운 파동 타입 추가 가능한 구조
- 다양한 물리 시뮬레이션 추가 가능
- 프리셋 시스템의 확장성
- 컴포넌트 기반 아키텍처로 재사용성 확보